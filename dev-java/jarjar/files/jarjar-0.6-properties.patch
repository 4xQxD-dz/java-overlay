diff -ru jarjar-0.6/build.xml jarjar-0.6-patched/build.xml
--- jarjar-0.6/build.xml	2005-07-21 17:48:50.000000000 -0400
+++ jarjar-0.6-patched/build.xml	2005-07-23 22:40:44.000000000 -0400
@@ -3,6 +3,20 @@
     <property file="${user.home}/build.properties" />
     <property file="build.properties" />
 
+	<property name="src.dir" location="src"/>
+	<property name="main.src.dir" location="${src.dir}/main"/>
+	<property name="test.src.dir" location="${src.dir}/test"/>
+
+	<property name="build.dir" location="build"/>
+	<property name="main.build.dir" location="${build.dir}/main"/>
+	<property name="test.build.dir" location="${build.dir}/test"/>
+	<property name="dev.build.dir" location="${build.dir}/dev"/>
+
+	<property name="lib.dir" location="lib"/>
+
+	<property name="dist.dir" location="dist"/>
+	<property name="javadoc.dist.dir" location="${dist.dir}/javadoc"/>
+
     <property name="javadoc.access" value="public"/>
 
     <property name="compile.source" value="1.3"/>
@@ -14,24 +28,25 @@
     <property name="compile.deprecation" value="false"/>
     <property name="compile.optimize" value="false"/>
 
-    <property name="version" value="0.6"/>
-    <property name="jarfile" value="dist/jarjar-${version}.jar"/>
+	<property name="project.name" value="jarjar"/>
+    <property name="project.version" value="0.6"/>
+    <property name="jarfile" location="${dist.dir}/${project.name}-${project.version}.jar"/>
+	<property name="src-zip" location="${dist.dir}/${project.name}-src-${project.version}.zip"/>
 
-    <property name="test.jar" value="build/rejar.jar"/>
+    <property name="test.jar" location="${build.dir}/rejar.jar"/>
 
     <target name="init">
         <tstamp/>
         <path id="path.build">
-            <fileset dir="lib" includes="**/*.jar"/>
+            <fileset dir="${lib.dir}" includes="**/*.jar"/>
         </path>
         <path id="path.run">
             <path refid="path.build"/>
-            <pathelement path="build/main"/>
-            <pathelement path="build/dev"/>
+            <pathelement path="${main.build.dir}"/>
         </path>
         <path id="path.test">
             <path refid="path.run"/>
-            <pathelement path="build/test"/>
+            <pathelement path="${test.build.dir}"/>
         </path>
     </target>
 
@@ -40,11 +55,11 @@
         <attribute name="refid"/>
         <attribute name="bootclasspath" default=""/>
         <sequential>
-            <mkdir dir="build/@{module}"/>
-            <copy todir="build/@{module}">
-                <fileset dir="src/@{module}" excludes="**/*.java"/>
+            <mkdir dir="${build.dir}/@{module}"/>
+            <copy todir="${build.dir}/@{module}">
+                <fileset dir="${src.dir}/@{module}" excludes="**/*.java"/>
             </copy>
-            <javac srcdir="src/@{module}" destdir="build/@{module}"
+            <javac srcdir="${src.dir}/@{module}" destdir="${build.dir}/@{module}"
               source="${compile.source}"
               target="${compile.target}" bootclasspath="@{bootclasspath}" extdirs="${compile.extdirs}"
               debug="${compile.debug}" optimize="${compile.optimize}" deprecation="${compile.deprecation}">
@@ -62,33 +77,32 @@
     </target>
 
     <target name="clean" description="Clean">
-        <delete dir="build"/>
-        <delete dir="dist"/>
-        <delete dir="dist/javadoc"/>
+        <delete dir="${build.dir}"/>
+        <delete dir="${dist.dir}"/>
     </target>
 
     <target name="jar" depends="compile" description="Create Jar">
-        <mkdir dir="dist"/>
+        <mkdir dir="${dist.dir}"/>
         <taskdef name="jarjar" classname="com.tonicsystems.jarjar.JarJarTask" classpathref="path.run"/>
         <jarjar jarfile="${jarfile}">
-            <fileset dir="build/main"/>
-            <zipfileset src="lib/asm.jar"/>
-            <zipfileset src="lib/gnu-regexp.jar"/>
+            <fileset dir="${main.build.dir}"/>
+            <zipfileset src="${lib.dir}/asm.jar"/>
+            <zipfileset src="${lib.dir}/gnu-regexp.jar"/>
             <rule pattern="org.objectweb.asm.**" result="com.tonicsystems.jarjar.asm.@1"/>
             <rule pattern="gnu.**" result="com.tonicsystems.jarjar.@0"/>
             <manifest>
                 <attribute name="Main-Class" value="com.tonicsystems.jarjar.Main"/>
-                <attribute name="Implementation-Version" value="${version}"/>
+                <attribute name="Implementation-Version" value="${project.version}"/>
             </manifest>
         </jarjar>
     </target>
 
     <target name="dist-src" depends="compile" description="Create source distribution">
-        <mkdir dir="dist"/>
-        <zip destfile="dist/jarjar-src-${version}.zip" filesonly="true">
-            <zipfileset dir="src" excludes="**/*.save" prefix="jarjar-${version}/src"/>
-            <zipfileset dir="lib" prefix="jarjar-${version}/lib"/>
-            <zipfileset dir="." includes="build.xml,COPYING" prefix="jarjar-${version}"/>
+        <mkdir dir="${dist.dir}"/>
+        <zip destfile="${src-zip}" filesonly="true">
+            <zipfileset dir="${src.dir}" excludes="**/*.save" prefix="${project.name}-${project.version}/${src}"/>
+            <zipfileset dir="${lib.dir}" prefix="${project.name}-${project.version}/${lib.dir}"/>
+            <zipfileset dir="." includes="build.xml,COPYING" prefix="${project.name}-${project.version}"/>
         </zip>
     </target>
 
@@ -102,7 +116,7 @@
             <formatter type="plain" usefile="false"/>
             <classpath refid="path.test"/>
             <batchtest>
-                <fileset dir="src/test" includes="**/*Test.java"/>
+                <fileset dir="${test.src.dir}" includes="**/*Test.java"/>
             </batchtest>
         </junit>
     </target>
@@ -110,9 +124,9 @@
     <target name="test-rejar" depends="jar">
         <taskdef name="jarjar2" classname="com.tonicsystems.jarjar.JarJarTask" classpath="${jarfile}"/>
         <jarjar2 jarfile="${test.jar}">
-            <fileset dir="build/main"/>
-            <zipfileset src="lib/asm.jar"/>
-            <zipfileset src="lib/gnu-regexp.jar"/>
+            <fileset dir="${main.build.dir}"/>
+            <zipfileset src="${lib.dir}/asm.jar"/>
+            <zipfileset src="${lib.dir}/gnu-regexp.jar"/>
             <rule pattern="org.objectweb.asm.**" result="com.tonicsystems.jarjar.asm.@1"/>
             <rule pattern="gnu.**" result="com.tonicsystems.jarjar.@0"/>
         </jarjar2>
@@ -121,10 +135,10 @@
 
     <!-- TODO: reference ant javadocs -->
     <target name="javadoc" depends="compile" description="Generate the javadoc">
-        <mkdir dir="dist/javadoc"/>
+        <mkdir dir="${javadoc.dist.dir}"/>
         <javadoc 
-          sourcepath="src/main"
-          destdir="dist/javadoc"
+          sourcepath="${main.src.dir}"
+          destdir="${javadoc.dist.dir}"
           access="${javadoc.access}"
           failonerror="true"
           packagenames="com.tonicsystems.jarjar.*"
