diff -ur eclipse.orig/plugins/org.eclipse.update.core.linux/src/build.xml eclipse.fix/plugins/org.eclipse.update.core.linux/src/build.xml
--- eclipse.orig/plugins/org.eclipse.update.core.linux/src/build.xml	2005-05-13 21:37:28.000000000 +0300
+++ eclipse.fix/plugins/org.eclipse.update.core.linux/src/build.xml	2005-05-23 21:43:30.000000000 +0300
@@ -5,7 +5,7 @@
   <!-- Set a meaningful default value for when it is not. -->
   <property name="eclipse-home" value="${basedir}/../.."/>
   <property name="jdk-path" value="${java.home}"/>  
-  <property name="destination" value="${eclipse-home}/org.eclipse.update.core.linux/os/linux/x86/"/>
+  <property name="destination" value="${eclipse-home}/org.eclipse.update.core.linux/os/linux/${arch}/"/>
   <property name="obj-path" value="${eclipse-home}/org.eclipse.update.core.linux/src/"/>
   <property name="src-path" value="${eclipse-home}/org.eclipse.update.core.linux/src/"/>  
   
@@ -47,17 +47,16 @@
     <property name="header-path" value="${jdk-path}/../include"/>
     <property name="header-linux-path" value="${header-path}/linux" />
 
-	<echo message="gcc -o  ${library-file} -shared -I${src-path} -I${header-linux-path} ${library-file} -static -lc"/>
+	<echo message="gcc -o  ${library-file} -shared -fPIC -I${src-path} -I${header-linux-path} ${library-file}"/>
 
     <apply executable="gcc" dest="${eclipse-home}/" parallel="false">
       <arg value="-o"/>
       <arg value="${library-file}"/>
       <arg value="-shared"/>
+      <arg value="-fPIC"/>
       <arg value="-I${src-path}"/>
       <arg value="-I${header-path}"/>      
       <arg value="-I${header-linux-path}"/>  
 	  <srcfile/>
-	  <arg value="-static"/>           
-      <arg value="-lc"/>	  
       <fileset dir="${src-path}" includes="*.c"/>
       <mapper type="glob" from="*.c" to="*.o"/>
--- eclipse-sdk-3.1/plugins/org.eclipse.help.webapp/build.xml.orig	2005-07-02 23:53:29.888012464 +0000
+++ eclipse-sdk-3.1/plugins/org.eclipse.help.webapp/build.xml	2005-07-02 23:53:42.596080544 +0000
@@ -165,7 +165,7 @@
 		<java
 			classname="org.apache.jasper.JspC"
 			fork="true"
-			failonerror="false"
+			failonerror="true"
 			classpathref="jasper.classpath"
 			output="${temp.folder}/WEB-INF/lib/jsp.jar.bin.log">
 			<arg value="-v3" />
--- eclipse-sdk-3.1/plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh.orig	2006-03-10 00:37:00.000000000 +0100
+++ eclipse-sdk-3.1/plugins/org.eclipse.swt/Eclipse SWT PI/gtk/library/build.sh	2006-03-10 00:38:47.000000000 +0100
@@ -110,7 +110,7 @@
 	fi
 fi
 
-if [ -f ${AWT_LIB_PATH}/libjawt.so ]; then
+if [[ ( -f ${AWT_LIB_PATH}/libjawt.so ) || ( -f ${AWT_LIB_PATH}/libgcjawt.so ) ]]; then
 	MAKE_AWT=make_awt
 else
 	echo "libjawt.so not found, the SWT/AWT integration library will not be compiled."
