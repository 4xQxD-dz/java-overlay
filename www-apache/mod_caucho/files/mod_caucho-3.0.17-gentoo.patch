diff -Nru resin-3.0.17.vanilla/configure.in resin-3.0.17/configure.in
--- resin-3.0.17.vanilla/configure.in	2006-02-10 15:14:26.000000000 +0100
+++ resin-3.0.17/configure.in	2006-02-10 15:14:56.000000000 +0100
@@ -293,16 +293,6 @@
   apache_bin="${apache_dir}/bin"
 fi
 
-if test -z "${apache_bin}"; then
- a=b;
-elif test -x "${apache_bin}/httpd"; then
- apache_exe="${apache_bin}/httpd"   	
-elif test -x "${apache_bin}/httpd2"; then
- apache_exe="${apache_bin}/httpd2"   	
-else
-  AC_MSG_ERROR([Can't find Apache binary in directory ${apache_bin}])
-fi
-
 #
 # heuristics for finding the Apache module directory
 #
diff -Nru resin-3.0.17.vanilla/modules/c/src/apache2/Makefile.in resin-3.0.17/modules/c/src/apache2/Makefile.in
--- resin-3.0.17.vanilla/modules/c/src/apache2/Makefile.in	2006-02-10 15:14:26.000000000 +0100
+++ resin-3.0.17/modules/c/src/apache2/Makefile.in	2006-02-10 15:22:14.000000000 +0100
@@ -35,11 +35,8 @@
 	$(CC) -c $(INCLUDES) $(CFLAGS) $<
 
 install	: mod_caucho.la
-	$(LIBTOOL) --mode=install $(CP) mod_caucho.la $(apache_libexec)
-	- rm -f $(apache_libexec)/mod_caucho.la
-	- rm -f $(apache_libexec)/mod_caucho.a
-	sh install.sh -conf $(apache_conf) -libexec $(apache_libexec) \
-	   -resin_home $(resin_home)
+	mkdir -p $(DESTDIR)$(apache_libexec)
+	$(LIBTOOL) --mode=install $(CP) mod_caucho.la $(DESTDIR)$(apache_libexec)
 
 clean	:
 	- rm *.o *.lo *.la *.so .libs
